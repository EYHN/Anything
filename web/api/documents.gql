fragment File on File {
  __typename
  fileHandle {
    value
  }
  mime
  icon
  thumbnail
  stats {
    creationTime
    lastWriteTime
    size
  }
}

fragment FileInfo on File {
  __typename
  fileHandle {
    value
  }
  name
  mime
  icon
  thumbnail
  metadata
  stats {
    creationTime
    lastWriteTime
    size
  }
}

fragment Dirent on Dirent {
  name
  file {
    ...File
  }
}

query fileInfoByFileHandle($fileHandle: FileHandle!) {
  openFileHandle(fileHandle: $fileHandle) {
    openFile {
      ...FileInfo
    }
  }
}

query listFilesByUrl($url: Url!) {
  createFileHandle(url: $url) {
    openDirectory {
      entries {
        ...Dirent
      }
    }
  }
}
